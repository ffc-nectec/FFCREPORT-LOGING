(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{735:function(e,t,a){"use strict";a.r(t);a(504);var n=a(527),r=(a(238),a(104)),o=(a(173),a(48)),l=(a(479),a(484)),i=(a(477),a(478)),c=(a(480),a(15)),s=a(21),m=a(22),u=a(24),p=a(23),h=a(0),g=a.n(h),d=a(50),f=a(47),v=a(51),b=a.n(v),E=a(171),w=a(506),y=a(537),k=a(536),S=a(532),z=a(534),x=a(535),j=a(469),C=a.n(j),O=a(485),N=a.n(O),I=a(167),L=new C.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[0,0],iconAnchor:[0,0],popupAnchor:[0,0],shadowSize:[0,0]}),U=new C.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[20,30],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),M=new C.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[20,30],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),A=new C.a.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[20,30],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),T=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).setStore=function(e){localStorage.setItem("userUnit",JSON.stringify(e))},n.onClose=function(){n.setState({visible:!1})},n.checkIdItems=function(e){1===e.target.value?n.setState({clickTag:"elder-activities-ok",submit:"",zoomLevel:14}):2===e.target.value?n.setState({clickTag:"elder-activities-mid",submit:"",zoomLevel:14}):3===e.target.value&&n.setState({clickTag:"elder-activities-very_hi",submit:"",zoomLevel:14})},n.setCenterMap=function(e,t){var a=n.state,r=a.lat,o=a.lng;r!==e&&n.setState({lat:e,zoomLevel:20}),o!==t&&n.setState({lng:t,zoomLevel:20})},n.state={geojson:[],houseaddress:[],house:[],lat:"",lng:"",submit:"",clickTag:"",visible:!1,zoomLevel:14},localStorage.clear(),n.baseMaps=[{name:"Google Satellite",url:"https://mt1.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",attribution:"&copy; Google",type:"tile",checked:!0},{name:"OpenStreet Map",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"&amp;copy <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors",type:"tile"}],n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("userData"),a=JSON.parse(t),n=a.user.orgId;Object(I.c)(n,a.token).then(function(t){var a=(t.bbox[2]+t.bbox[0])/2,n=(t.bbox[3]+t.bbox[1])/2;e.setState({geojson:t.features,lat:n,lng:a})})}},{key:"renderBaseLayerControl",value:function(){return g.a.createElement(w.b,{position:"bottomleft"},this.baseMaps.map(function(e){var t=e.name,a=e.url,n=e.attribution,r=e.type,o=e.layer,l=e.format,i=e.checked,c=void 0!==i&&i;return"wms"===r?g.a.createElement(w.b.BaseLayer,{key:t,name:t,checked:c},g.a.createElement(y.a,{layers:o,format:l,transparent:!1,url:a,attribution:n})):g.a.createElement(w.b.BaseLayer,{key:t,name:t,checked:c},g.a.createElement(k.a,{attribution:n,url:a}))}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.geojson,s=t.lat,m=t.lng,u=t.submit,p=t.clickTag,h=t.house,v=t.visible,w=t.houseaddress,y=t.zoomLevel,k=a.map(function(e){return e.properties}),j=b()(),C=[s,m],O=w.map(function(e){return e.properties.no}),I=w.map(function(e){return e.properties.villageName});function T(){window.location.reload(!1)}var _=function(){return g.a.createElement(l.a,{style:{width:350,Color:"#000"},onSelect:function(t){e.setState({submit:t,clickTag:""})},dataSource:k.map(function(e){return e.no+e.villageName}),defaultValue:u,placeholder:"\u0e1a\u0e49\u0e32\u0e19\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 / \u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19",filterOption:function(e,t){return-1!==t.props.children.toUpperCase().indexOf(e.toUpperCase())}},g.a.createElement(i.a,{suffix:g.a.createElement(c.a,{type:"search",onClick:T,className:"certain-category-icon"}),allowClear:!0}))};return g.a.createElement("div",null,g.a.createElement(d.Helmet,{title:"\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38"}),g.a.createElement("div",{className:"air__utils__heading"},g.a.createElement("h5",null,"\u0e1c\u0e39\u0e49\u0e2a\u0e39\u0e07\u0e2d\u0e32\u0e22\u0e38")),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-lg-4"},g.a.createElement(o.a.Group,{onChange:this.checkIdItems},g.a.createElement(o.a,{value:1},"\u0e15\u0e34\u0e14\u0e2a\u0e31\u0e07\u0e04\u0e21\xa0",g.a.createElement("img",{src:"home.png",alt:"",width:"20",height:"20"})),g.a.createElement(o.a,{value:2},"\u0e15\u0e34\u0e14\u0e1a\u0e49\u0e32\u0e19\xa0",g.a.createElement("img",{src:"bed.png",alt:"",width:"20",height:"20"})),g.a.createElement(o.a,{value:3},"\u0e15\u0e34\u0e14\u0e40\u0e15\u0e35\u0e22\u0e07\xa0",g.a.createElement("img",{src:"social.png",alt:"",width:"20",height:"20"})))),g.a.createElement("div",{className:"col-lg-4"}),g.a.createElement("br",null),g.a.createElement("div",{className:"col-lg-4"},g.a.createElement(_,null))),g.a.createElement("br",null),g.a.createElement("br",null),g.a.createElement(S.a,{style:{height:"70vh"},center:C,zoom:y},g.a.createElement(N.a,{position:"topleft"}),this.renderBaseLayerControl(),a.map(function(t){var a=L;return t.properties.no+t.properties.villageName===u?(e.setCenterMap(t.geometry.coordinates[1],t.geometry.coordinates[0]),a=A):p===t.properties.tags.find(function(e){return"elder-activities-ok"===e})?a=U:p===t.properties.tags.find(function(e){return"elder-activities-mid"===e})?a=M:p===t.properties.tags.find(function(e){return"elder-activities-very_hi"===e})&&(a=A),g.a.createElement(z.a,{onMouseOver:function(e){e.target.openPopup()},onMouseOut:function(e){e.target.closePopup()},position:[t.geometry.coordinates[1],t.geometry.coordinates[0]],icon:a},g.a.createElement(x.a,null,g.a.createElement("span",null,g.a.createElement("p",null,"\u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19:",t.properties.villageName),g.a.createElement("p",null,"\u0e1a\u0e49\u0e32\u0e19\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48:",t.properties.no),g.a.createElement("p",null,t.geometry.coordinates[1],",",t.geometry.coordinates[0]))),g.a.createElement(n.a,{title:"".concat(O," ").concat(I),placement:"right",onClose:e.onClose,visible:v,getContainer:!1,style:{position:"absolute",overflow:"hidden",width:240}},h.map(function(t){var a,n=j.diff(t.birthDate,"years");return a=n>=60?g.a.createElement(r.a,{onClick:function(){return e.setStore(t)},style:{width:220,height:50}},t.firstname,"\xa0",t.lastname,"\xa0",g.a.createElement("p",null,"\u0e2d\u0e32\u0e22\u0e38\xa0",n,"\xa0\u0e1b\u0e35")):null,g.a.createElement("div",null,g.a.createElement(f.a,{to:"/dashboard/userdetail"},a))})))})),g.a.createElement("br",null),g.a.createElement(E.a,null))}}]),a}(g.a.Component);t.default=T}}]);
//# sourceMappingURL=14.21f604ff.chunk.js.map